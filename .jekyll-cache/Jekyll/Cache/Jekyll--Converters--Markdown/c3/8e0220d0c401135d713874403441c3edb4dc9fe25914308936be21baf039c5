I"û<p><a href="/ruby-guide/">Voltar ao come√ßo do guia</a>.</p>

<p>Hashes s√£o tipos de dados que s√£o capazes de armazenar grupos de elementos, assim como um Array. Hashes, na verdade, s√£o constru√≠dos com base em Arrays, logo muito do que aprendemos em Arrays pode ser reaproveitado para utiliza√ß√£o de Hashes.</p>

<p>Diferente de um Array, no entanto, Hashes s√£o mais sofisticados e tem melhor desempenho em v√°rias opera√ß√µes. Vamos discutir mais a frente alguns desses casos. Uma outra caracter√≠stica de um hash √© o uso de chaves (<code class="highlighter-rouge">{}</code>) para delimitar seu escopo.</p>

<h3 id="criando-hashes">Criando hashes</h3>

<p>Podemos criar um Hash vazio usando a nota√ß√£o de chaves:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">puts</span> <span class="p">{}</span>          <span class="c1"># =&gt; {}</span>
<span class="n">meu_hash</span> <span class="o">=</span> <span class="p">{}</span>    <span class="c1"># =&gt; {}</span>
</code></pre></div></div>

<p>Hashes s√£o tipos de dados que al√©m de um valor, armazenam tamb√©m uma chave. A chave √© utilizada para buscar o valor armazenado. Podemos definir um Hash em ruby usando a nota√ß√£o <code class="highlighter-rouge">{chave =&gt; valor}</code>. O s√≠mbolo <code class="highlighter-rouge">=&gt;</code> (hash rockets) separa a defini√ß√£o de chave e valor. Veja a seguir:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="s2">"um"</span> <span class="o">=&gt;</span> <span class="s2">"one"</span><span class="p">,</span> <span class="s2">"dois"</span> <span class="o">=&gt;</span> <span class="s2">"two"</span><span class="p">,</span> <span class="s2">"tr√™s"</span> <span class="o">=&gt;</span> <span class="s2">"three"</span><span class="p">}</span>
</code></pre></div></div>

<p>Nesse hash temos tr√™s pares de chave e valor. Isto significa que temos tr√™s chaves (<code class="highlighter-rouge">um</code>, <code class="highlighter-rouge">dois</code> e <code class="highlighter-rouge">tr√™s</code>) que podem ser utilizadas pra acessar tr√™s valores (<code class="highlighter-rouge">one</code>, <code class="highlighter-rouge">two</code> e <code class="highlighter-rouge">three</code>). A chave (que marca a posi√ß√£o) aparece ao lado esquedo do <code class="highlighter-rouge">=&gt;</code>, enquanto que o valor aparece ao lado direito.</p>

<p>Percba que a ideia de chave √© que ela seja capaz de referenciar um determinado valor dentro de um Hash. Logo, n√£o podem existir duas chaves iguais; do contr√°rio, como poder√≠amos recuperar o valor associado? Todavia, podemos ter o mesmo valor para duas chaves diferentes.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chaves_duplicadas = {"um" =&gt; "one", "dois" =&gt; "two", "um" =&gt; "ten"}
valores_duplicados = {"um" =&gt; "one", "dois" =&gt; "two", "tr√™s" =&gt; "two"}
</code></pre></div></div>

<p>Como j√° √© de se imaginar, h√° v√°rias outras formas de se criar um Hash em Ruby. Uma das quais √© utilizando a orienta√ß√£o a objetos:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">puts</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span>         <span class="c1"># =&gt; {}</span>
<span class="nb">puts</span> <span class="no">Hash</span><span class="p">.</span><span class="nf">new</span> <span class="o">==</span> <span class="p">{}</span>   <span class="c1"># =&gt; true</span>

<span class="nb">puts</span> <span class="no">Hash</span><span class="p">[</span><span class="s2">"um"</span> <span class="o">=&gt;</span> <span class="s2">"one"</span><span class="p">]</span>   <span class="c1"># =&gt; {"um" =&gt; "one"}w</span>
</code></pre></div></div>

<p>Nos dois exemplos anteriores, criamos um Hash de strings como chave e valor. No entanto, assim como Arrays, podemos criar Hashes com tipos de dados diferentes, como no exemplo abaixo.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dados_pessoais = { "nome" =&gt; "Gustavo Pinto", "cpf" =&gt; :00011122233, "telefones" =&gt; ["(91) 99052-0000", "(91) 99052-0001"] }
</code></pre></div></div>

<p>Note que podemos inclusive usar Arrays como valores de um Hash. No entanto, embora estamo utilizando Strings para as chaves, Symbols s√£o mais comumente utilizados para este prop√≥sito. Isto pois s√≠mbolos s√£o imut√°veis, logo</p>

<p>. Por exemplo, em um Array, para remover um elemento que n√£o conhecemos, precisamos percorrer todo o Array at√© encontra-lo. Em um Hash, isso fazemos buscas usando uma <em>chave</em>.</p>

<p>At√© o Ruby 1.8, a nota√ß√£o de hash rockets (<code class="highlighter-rouge">=&gt;</code>) era a padr√£o para cria√ß√£o de hashes. No entanto, no Ruby 1.9, foi introduzida a nota√ß√£o de dois pontos (<code class="highlighter-rouge">:</code>). A nota√ß√£o de dois pontos tinha dois objetivos principais: um era tornar os Hashes sintaticamente mais pr√≥ximos de um JSON. A nota√ß√£o de dois pontos tamb√©m era mais f√°cil de ser utilizada. Nas atuais vers√µes de Ruby (vers√£o 3.0 inclu√≠da), ambas as nota√ß√µes de <code class="highlighter-rouge">=&gt;</code> e <code class="highlighter-rouge">:</code> s√£o v√°lidas para criar Hashes. Mas h√° um problema.</p>

<p>http://ruby-for-beginners.rubymonstas.org/built_in_classes/hashes.html</p>
:ET